<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Antigravity Draw | Next-Gen Collaborative Canvas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Patrick+Hand&family=JetBrains+Mono:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <canvas id="canvas"></canvas>

    <!-- Side Actions (Top Left) -->
    <div class="actions-panel">
      <button id="export-btn" class="action-btn" title="Export to PNG">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
          <polyline points="7 10 12 15 17 10" />
          <line x1="12" x2="12" y1="15" y2="3" />
        </svg>
      </button>
      <button id="share-btn" class="action-btn" title="Share Room URL">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="18" cy="5" r="3" />
          <circle cx="6" cy="12" r="3" />
          <circle cx="18" cy="19" r="3" />
          <line x1="8.59" x2="15.42" y1="13.51" y2="17.49" />
          <line x1="15.41" x2="8.59" y1="6.51" y2="10.49" />
        </svg>
      </button>
      <button id="theme-toggle" class="action-btn" title="Toggle Dark Mode">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
        </svg>
      </button>
      <button id="grid-toggle" class="action-btn" title="Toggle Grid Style">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <rect width="18" height="18" x="3" y="3" rx="2" />
          <path d="M3 9h18" />
          <path d="M3 15h18" />
          <path d="M9 3v18" />
          <path d="M15 3v18" />
        </svg>
      </button>
    </div>

    <!-- Main Toolbar (Top Center) -->
    <nav class="toolbar">
      <button class="tool-btn active" data-tool="select" title="Selection (V)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z" />
          <path d="m13 13 6 6" />
        </svg>
      </button>
      <div class="tool-separator"></div>
      <button class="tool-btn" data-tool="rectangle" title="Rectangle (R)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <rect width="18" height="18" x="3" y="3" rx="2" />
        </svg>
      </button>
      <button class="tool-btn" data-tool="ellipse" title="Ellipse (O)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="12" cy="12" r="10" />
        </svg>
      </button>
      <button class="tool-btn" data-tool="diamond" title="Diamond (D)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M12 3 20 12 12 21 4 12Z" />
        </svg>
      </button>
      <div class="tool-separator"></div>
      <button class="tool-btn" data-tool="line" title="Line (L)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M5 19 19 5" />
        </svg>
      </button>
      <button class="tool-btn" data-tool="arrow" title="Arrow (A)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M5 12h14" />
          <path d="m12 5 7 7-7 7" />
        </svg>
      </button>
      <button class="tool-btn" data-tool="pencil" title="Pencil (P)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
          <path d="m15 5 4 4" />
        </svg>
      </button>
      <button class="tool-btn" data-tool="text" title="Text (T)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <polyline points="4 7 4 4 20 4 20 7" />
          <line x1="9" x2="15" y1="20" y2="20" />
          <line x1="12" x2="12" y1="4" y2="20" />
        </svg>
      </button>
      <div class="tool-separator"></div>
      <button class="tool-btn" data-tool="eraser" title="Eraser (E)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path
            d="m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"
          />
          <path d="m22 21H7" />
          <path d="m5 11 9 9" />
        </svg>
      </button>
      <button class="tool-btn" data-tool="laser" title="Laser Pointer (K)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M4 14.71 14.71 4" />
          <path d="M14.71 20 20 14.71" />
          <path d="m9 15 3 3" />
          <path d="m15 9 3 3" />
        </svg>
      </button>
    </nav>

    <!-- Properties Panel (Left) -->
    <aside class="properties-panel" id="properties-panel">
      <div class="prop-group">
        <span class="prop-label">Stroke</span>
        <div class="color-grid" id="stroke-colors">
          <div
            class="color-swatch active"
            style="background: #1e293b"
            data-color="#1e293b"
          ></div>
          <div
            class="color-swatch"
            style="background: #ef4444"
            data-color="#ef4444"
          ></div>
          <div
            class="color-swatch"
            style="background: #10b981"
            data-color="#10b981"
          ></div>
          <div
            class="color-swatch"
            style="background: #6366f1"
            data-color="#6366f1"
          ></div>
          <div
            class="color-swatch"
            style="background: #f59e0b"
            data-color="#f59e0b"
          ></div>
        </div>
      </div>
      <div class="prop-group">
        <span class="prop-label">Background</span>
        <div class="color-grid" id="bg-colors">
          <div
            class="color-swatch active"
            style="
              background: transparent;
              border: 2px dashed var(--border-color);
            "
            data-color="transparent"
          ></div>
          <div
            class="color-swatch"
            style="background: #fee2e2"
            data-color="#fee2e2"
          ></div>
          <div
            class="color-swatch"
            style="background: #dcfce7"
            data-color="#dcfce7"
          ></div>
          <div
            class="color-swatch"
            style="background: #e0e7ff"
            data-color="#e0e7ff"
          ></div>
          <div
            class="color-swatch"
            style="background: #fef3c7"
            data-color="#fef3c7"
          ></div>
        </div>
      </div>
      <div class="prop-group">
        <span class="prop-label">Roughness</span>
        <div class="style-grid" id="roughness-btns">
          <button class="style-btn" data-value="0">Sharp</button>
          <button class="style-btn active" data-value="1">Sketch</button>
          <button class="style-btn" data-value="2">Raw</button>
        </div>
      </div>
      <div class="prop-group">
        <span class="prop-label">Width</span>
        <div class="style-grid" id="stroke-width-btns">
          <button class="style-btn" data-value="1">Thin</button>
          <button class="style-btn active" data-value="2">Bold</button>
          <button class="style-btn" data-value="4">Extra</button>
        </div>
      </div>
    </aside>

    <!-- Zoom Hub (Bottom Left) -->
    <div class="zoom-controls">
      <button id="zoom-out" class="zoom-btn" title="Zoom Out">−</button>
      <span id="zoom-level">100%</span>
      <button id="zoom-in" class="zoom-btn" title="Zoom In">+</button>
      <button
        id="zoom-reset"
        class="zoom-btn"
        style="padding:0 12px; font-size:10px; opacity:0.6 hover:opacity:1"
      >
        RESET
      </button>
    </div>

    <!-- Collab Status (Top Right) -->
    <div class="collab-badge">
      <div class="status-dot"></div>
      1 user live
    </div>

    <!-- AI Suggestion Toast -->
    <div id="suggestion-toast" class="suggestion-toast" style="display: none">
      ✨ Looking for a perfect shape? [Cleanup]
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
